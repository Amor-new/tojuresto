{% extends "base.html" %}
{% load static %}

{% block content %}

<!-- Include Google Fonts for better font styles -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&family=Roboto:wght@400&display=swap" rel="stylesheet">

<!-- Section-->
<section class="py-5">
    <div class="container px-4 px-lg-5 mt-5">
        <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">
            {% for product in products %}
                <div class="col mb-4">
                    <div class="card h-100" style="height: 250px; display: flex; flex-direction: column; align-items: center; box-shadow: 0 4px 8px rgba(0,0,0,0.1); border-radius: 75%; padding: 10px;">
                        <!-- Product image (centered and round) -->
                        <div style="width: 120px; height: 120px; overflow: hidden; border-radius: 50%; margin-top: 10px;">
                            <img src="{{ product.image.url }}" alt="Product image" style="height: 100%; width: 100%; object-fit: cover;">
                        </div>
                        <!-- Product details -->
                        <div style="flex: 1; text-align: center; margin-top: 15px;">
                            <!-- Sale badge-->
                            {% if product.is_sale %}
                                <div class="badge bg-danger text-white" style="position: absolute; top: 0.5rem; right: 0.5rem; font-size: 0.75rem;">Sale</div>
                            {% endif %}
                            <!-- Product name-->
                            <h5 style="font-family: 'Poppins', sans-serif; font-weight: bold; font-size: 1.1rem; margin: 0.5rem 0 0.3rem 0; color: #5D3FD3; background: linear-gradient(45deg, #5D3FD3, #00C9A7); -webkit-background-clip: text; color: transparent;">
                                {{ product.name }}
                            </h5>
                            <!-- Product price (if on sale) -->
                            {% if product.is_sale %}
                                <div style="font-family: 'Roboto', sans-serif; font-size: 1rem; color: #dc3545;">
                                    <strike style="color: #888;">${{ product.price }}</strike>
                                    <span style="font-weight: bold; color: #ff5f5f;">#{{ product.sale_price }}</span>
                                </div>
                            {% else %}
                                <!-- Regular price if not on sale -->
                                <div style="font-family: 'Roboto', sans-serif; font-weight: bold; color: #5D3FD3; font-size: 1rem;">
                                    #{{ product.price }}
                                </div>
                           
                        </div>
                        <!-- View Product Button -->
                        <a class="btn mt-2" href="{% url 'product' product.id %}" style="font-size: 0.8rem; padding: 0.5rem 1rem; color: #fff; background: linear-gradient(45deg, #d3783f, #c9b500); border: none; border-radius: 20px; box-shadow: 0px 4px 6px rgba(0,0,0,0.1); transition: all 0.3s ease;">
                            View Meal
                        </a>
                    </div>
                </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
</section>

{% endblock %}
